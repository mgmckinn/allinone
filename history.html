<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Schedule History</title>
        <style>
            body {
                font-family: 'Segoe UI', sans-serif;
                background: #eef2f7;
                color: #2c3e50;
                padding: 2rem;
                display: flex;
                flex-direction: column;
                align-items: center;
                min-height: 100vh;
            }

            h1 {
                color: #1a3d7c;
                margin-bottom: 1rem;
            }

            .history {
                width: 100%;
                max-width: 600px;
                background: white;
                border-radius: 12px;
                padding: 1.5rem;
                box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);
                margin-bottom: 1rem;
            }

            .history p {
                margin: 0.5rem 0;
            }

            .tally {
                margin-top: 2rem;
                width: 100%;
                max-width: 600px;
                background: white;
                border-radius: 12px;
                padding: 1.5rem;
                box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);
            }

            button {
                background: #1a3d7c;
                color: white;
                border: none;
                padding: 0.75rem 1.5rem;
                margin-top: 1rem;
                border-radius: 8px;
                font-size: 1rem;
                cursor: pointer;
            }

            button:hover {
                background: #c9a227;
                color: #2c3e50;
            }

        </style>
    </head>

    <body>
        <h1>Schedule History</h1>
       <div id="historyContainer" class="history"></div>
    <button onclick="goToTally()">View Work Tally</button>
    <button onclick="goBack()">Back to Generator</button>
    
    <script>
        function loadHistory() {
            const history = JSON.parse(localStorage.getItem("submittedSchedules") || "[]");
            const historyContainer = document.getElementById("historyContainer");

            if (history.length === 0) {
                historyContainer.innerHTML = "<p>No schedules submitted yet.</p>";
                return;
            }

            // Display history
            historyContainer.innerHTML = history.map((schedule, index) => `
                <p><strong>Schedule ${ index + 1 }:</strong></p>
                <p>Manager: ${ schedule.manager }</p>
                <p>Bankers: ${ schedule.bankers.join(", ") }</p>
            `).join("<hr>");
        }

        function goToTally() {
            window.location.href = 'track.html';
        }

        function goBack() {
            window.location.href = 'index.html';
        }

        // Load history on page load
        loadHistory();
    </script>
    